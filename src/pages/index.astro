---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
---

<!doctype html>
<html lang="es">
    <head>
        <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
        <style>
            :root {
                --accent: #F5F5DC;
                --bg-dark: #13151a;
            }

            .parallax-wrapper {
                position: relative;
                height: 80vh; /* Un poco m√°s alto para impacto visual */
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
                background: var(--bg-dark);
                color: white;
                text-align: center;
                padding: 20px;
            }

            .parallax-bg {
                position: absolute;
                top: -10%;
                left: 0;
                width: 100%;
                height: 120%;
                background-image: linear-gradient(to bottom, rgba(19, 21, 26, 0.2), var(--bg-dark)), 
                                  url('https://images.unsplash.com/photo-1477346611705-65d1883cee1e?auto=format&fit=crop&q=80&w=2070');
                background-size: cover;
                background-position: center;
                z-index: 1;
                opacity: 0.5;
                will-change: transform;
            }

            .content-hero {
                position: relative;
                z-index: 2;
                max-width: 90%;
            }

            h1 {
                /* CLAVE: Tama√±o de fuente fluido */
                font-size: clamp(2.5rem, 8vw, 5rem); 
                line-height: 1.1;
                margin-bottom: 0.5rem;
                background: linear-gradient(45deg, var(--accent), #fff, var(--accent));
                background-size: 200% auto;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                animation: shine 5s linear infinite;
            }

            @keyframes shine {
                to { background-position: 200% center; }
            }

            .hero-subtitle {
                font-size: clamp(1rem, 4vw, 1.5rem);
                color: #aaa;
            }

            /* Secci√≥n de tarjetas responsiva */
            .floating-section {
                background: var(--bg-dark);
                padding: 40px 20px;
                display: grid;
                /* Una columna en m√≥vil, tres en escritorio */
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                max-width: 1100px;
                margin: 0 auto;
                gap: 25px;
            }

            .card {
                background: rgba(255, 255, 255, 0.03);
                border: 1px solid rgba(245, 245, 220, 0.1);
                padding: 2.5rem 1.5rem;
                border-radius: 20px;
                backdrop-filter: blur(12px);
                transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                position: relative;
                overflow: hidden;
            }

            /* Efecto WOW: Luces ambientales tras las tarjetas */
            .card::before {
                content: '';
                position: absolute;
                top: -50%; left: -50%;
                width: 200%; height: 200%;
                background: radial-gradient(circle, rgba(245,245,220,0.05) 0%, transparent 70%);
                pointer-events: none;
            }

            .card:hover {
                transform: translateY(-10px);
                border-color: var(--accent);
                box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            }

            .card h3 {
                color: var(--accent);
                font-size: 1.5rem;
                margin-bottom: 1rem;
            }

            main {
                max-width: 800px;
                margin: 0 auto;
                padding: 60px 24px;
                color: #bbb;
                line-height: 1.6;
            }

            /* Ajustes para m√≥vil */
            @media (max-width: 768px) {
                .parallax-wrapper { height: 60vh; }
                .floating-section { padding: 20px; gap: 15px; }
                /* Desactivamos o suavizamos transformaciones pesadas en m√≥vil */
                .card:hover { transform: translateY(-5px); }
            }
        </style>
    </head>
    <body>
        <Header />
        
        <section class="parallax-wrapper">
            <div class="parallax-bg" id="bg-hero"></div>
            <div class="content-hero" id="text-hero">
                <h1>Leandro</h1>
                <p class="hero-subtitle">Desarrollador & Creador de experiencias</p>
            </div>
        </section>

        <section class="floating-section">
            <div class="card" id="card-1">
                <h3>üöÄ Proyectos</h3>
                <p>Explora mi portafolio de aplicaciones modernas y herramientas open source.</p>
            </div>
            <div class="card" id="card-2">
                <h3>üõ†Ô∏è Mi Setup</h3>
                <p>Desde mi editor de c√≥digo hasta el hardware que impulsa mi d√≠a a d√≠a.</p>
            </div>
            <div class="card" id="card-3">
                <h3>üí° Enlaces</h3>
                <p>Una colecci√≥n curada de recursos y lecturas que me inspiran.</p>
            </div>
        </section>

        <main>
            <p>Bienvenido a mi rinc√≥n digital. Aqu√≠ comparto lo que aprendo mientras construyo cosas en la web.</p>
            <div style="height: 100px;"></div>
        </main>

        <Footer />

        <script>
            // Usamos requestAnimationFrame para que el parallax sea suave (60fps)
            let ticking = false;

            const updateParallax = () => {
                const y = window.scrollY;
                const bg = document.getElementById('bg-hero');
                const tx = document.getElementById('text-hero');
                
                // Solo ejecutamos efectos complejos si no es un m√≥vil muy peque√±o
                if (window.innerWidth > 768) {
                    if (bg) bg.style.transform = `translate3d(0, ${y * 0.3}px, 0)`;
                    if (tx) tx.style.transform = `translate3d(0, ${y * -0.15}px, 0)`;
                    
                    // Parallax sutil en tarjetas
                    const cards = document.querySelectorAll('.card');
                    cards.forEach((card, index) => {
                        const speed = [0.05, 0.1, 0.07][index];
                        const movement = (y * speed);
                        (card as HTMLElement).style.transform = `translateY(${-movement}px)`;
                    });
                }
                ticking = false;
            };

            window.addEventListener('scroll', () => {
                if (!ticking) {
                    window.requestAnimationFrame(updateParallax);
                    ticking = true;
                }
            });
        </script>
    </body>
</html>