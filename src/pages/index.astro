---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
---

<!doctype html>
<html lang="es">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			.parallax-wrapper {
				position: relative;
				height: 70vh;
				display: flex;
				align-items: center;
				justify-content: center;
				overflow: hidden;
				background: #13151a;
				color: white;
				text-align: center;
			}

			.parallax-bg {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 140%;
				background-image: url('https://images.unsplash.com/photo-1477346611705-65d1883cee1e?auto=format&fit=crop&q=80&w=2070');
				background-size: cover;
				background-position: center;
				z-index: 1;
				opacity: 0.4;
				will-change: transform;
			}

			.content-hero {
				position: relative;
				z-index: 2;
			}

			h1 {
				font-size: 4rem;
				color: #F5F5DC;
				text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
			}

			/* Secci√≥n de tarjetas flotantes */
			.floating-section {
				background: #13151a;
				padding: 80px 20px;
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
				gap: 30px;
				overflow: hidden;
			}

			.card {
				background: rgba(255, 255, 255, 0.05);
				border: 1px solid rgba(245, 245, 220, 0.2);
				padding: 2rem;
				border-radius: 15px;
				width: 280px;
				backdrop-filter: blur(8px);
				transition: transform 0.1s ease-out;
				will-change: transform;
			}

			.card h3 {
				color: #F5F5DC;
				margin-top: 0;
			}

			main {
				max-width: 800px;
				margin: 0 auto;
				padding: 60px 20px;
				color: #ddd;
			}
		</style>
	</head>
	<body>
		<Header />
		
		<section class="parallax-wrapper">
			<div class="parallax-bg" id="bg-hero"></div>
			<div class="content-hero" id="text-hero">
				<h1>¬°Hola! Soy Leandro</h1>
				<p style="font-size: 1.5rem;">Bienvenidos a mi espacio personal.</p>
			</div>
		</section>

		<section class="floating-section">
			<div class="card" id="card-1">
				<h3>üöÄ Proyectos</h3>
				<p>Listado de aplicaciones y herramientas desarrolladas por m√≠.</p>
			</div>
			<div class="card" id="card-2">
				<h3>üõ†Ô∏è Setup</h3>
				<p>Mis herramientas de trabajo y personalizaciones favoritas.</p>
			</div>
			<div class="card" id="card-3">
				<h3>üí° Enlaces</h3>
				<p>Recursos interesantes que voy encontrando en la red.</p>
			</div>
		</section>

		<main>
			<p>Por aqu√≠ dejar√© constancia de todos los proyectos que llevo a cabo...</p>
			<div style="height: 300px;"></div>
		</main>

		<Footer />

		<script>
			// Funci√≥n segura para el scroll
			const updateParallax = () => {
				const y = window.scrollY;
				
				const bg = document.getElementById('bg-hero');
				const tx = document.getElementById('text-hero');
				const c1 = document.getElementById('card-1');
				const c2 = document.getElementById('card-2');
				const c3 = document.getElementById('card-3');

				if (bg) bg.style.transform = "translateY(" + (y * 0.4) + "px)";
				if (tx) tx.style.transform = "translateY(" + (y * -0.1) + "px)";

				// Efecto solo si las tarjetas est√°n cerca
				if (y > 100) {
					const rel = y - 100;
					if (c1) c1.style.transform = "translateY(" + (rel * -0.05) + "px) rotate(-1deg)";
					if (c2) c2.style.transform = "translateY(" + (rel * -0.12) + "px) scale(1.05)";
					if (c3) c3.style.transform = "translateY(" + (rel * -0.08) + "px) rotate(1deg)";
				}
			};

			window.addEventListener('scroll', updateParallax);
		</script>
	</body>
</html>